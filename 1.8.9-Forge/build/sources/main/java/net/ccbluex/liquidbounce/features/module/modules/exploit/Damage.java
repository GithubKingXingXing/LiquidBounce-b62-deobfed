
package net.ccbluex.liquidbounce.features.module.modules.exploit;

import net.minecraft.network.Packet;
import net.minecraft.network.play.client.C03PacketPlayer;
import net.ccbluex.liquidbounce.valuesystem.types.IntegerValue;
import net.ccbluex.liquidbounce.valuesystem.types.ListValue;
import net.ccbluex.liquidbounce.features.module.ModuleCategory;
import net.ccbluex.liquidbounce.features.module.ModuleInfo;
import net.ccbluex.liquidbounce.features.module.Module;

@ModuleInfo(name = "Damage", description = "Deals damage to yourself.", category = ModuleCategory.EXPLOIT, canEnable = false)
public class Damage extends Module
{
    private final ListValue listValue;
    private final IntegerValue damageValue;
    
    public Damage() {
        this.listValue = new ListValue("Mode", new String[] { "NCP", "AAC" }, "NCP");
        this.damageValue = new IntegerValue("Damage", 1, 1, 20);
    }
    
    @Override
    public void onEnable() {
        final String lowerCase = this.listValue.asString().toLowerCase();
        switch (lowerCase) {
            case "ncp": {
                final double x = Damage.mc.thePlayer.posX;
                final double y = Damage.mc.thePlayer.posY;
                final double z = Damage.mc.thePlayer.posZ;
                for (int i = 0; i < 65 * this.damageValue.asInteger(); ++i) {
                    Damage.mc.getNetHandler().addToSendQueue((Packet)new C03PacketPlayer.C04PacketPlayerPosition(x, y + 0.049, z, false));
                    Damage.mc.getNetHandler().addToSendQueue((Packet)new C03PacketPlayer.C04PacketPlayerPosition(x, y, z, false));
                }
                Damage.mc.getNetHandler().addToSendQueue((Packet)new C03PacketPlayer.C04PacketPlayerPosition(x, y, z, true));
                break;
            }
            case "aac": {
                Damage.mc.thePlayer.motionY = 5 * this.damageValue.asInteger();
                break;
            }
        }
    }
}
