
package net.ccbluex.liquidbounce.features.module.modules.exploit;

import net.ccbluex.liquidbounce.event.EventTarget;
import net.ccbluex.liquidbounce.utils.ChatUtils;
import net.minecraft.client.gui.GuiScreen;
import net.minecraft.client.gui.GuiGameOver;
import net.ccbluex.liquidbounce.event.events.UpdateEvent;
import net.ccbluex.liquidbounce.features.module.ModuleCategory;
import net.ccbluex.liquidbounce.features.module.ModuleInfo;
import net.ccbluex.liquidbounce.features.module.Module;

@ModuleInfo(name = "Ghost", description = "Allows you to walk around and interact with your environment after dying.", category = ModuleCategory.EXPLOIT)
public class Ghost extends Module
{
    private boolean isGhost;
    
    @EventTarget
    public void onUpdate(final UpdateEvent event) {
        if (Ghost.mc.currentScreen instanceof GuiGameOver) {
            Ghost.mc.displayGuiScreen((GuiScreen)null);
            Ghost.mc.thePlayer.isDead = false;
            Ghost.mc.thePlayer.setHealth(20.0f);
            Ghost.mc.thePlayer.setPositionAndUpdate(Ghost.mc.thePlayer.posX, Ghost.mc.thePlayer.posY, Ghost.mc.thePlayer.posZ);
            this.isGhost = true;
            ChatUtils.displayChatMessage("Â§cYou are now a ghost.");
        }
    }
    
    @Override
    public void onDisable() {
        if (this.isGhost) {
            Ghost.mc.thePlayer.respawnPlayer();
            this.isGhost = false;
        }
    }
}
